# Creative Integrator - UI-KIT
## Работа с Back-end

Для проекта уже есть stage-сервер, так что следующий пункт можно пропустить, если нет необходимости в API документации

## Docker

Для начала работы необходимо поднять все контейнеры в docker, но перел этим нужно установить сертификаты для домена(находится в `backend` части).
Для упрощения данного процесса в дирректории `Make` есть файл `Makefile`, его необходимо переместить в корень дирректории с `backend` частью.
Команды для работы в терминале:

1. `make pull-build` - команда получит, соберет, сбилдит и запустит контейнера. Выполняется при начале работы над проектом\*
2. `make clear-d` - команда для сброса базы данных и повторного создания, и загрузки фикстур, и миграций. Выполняется при необходимости\*
3. `make cache` - команда для очистки кэша. Выполняется при необходимости\*
4. `make token-admin` - команда для получения токена администратора. Выполняется при необходимости для работы с `api`\*

---

5. `make down` - команда для остановки контейнеров. Выполняется при необходимости\*
6. `make restart` - команда для перезапуска контейнеров. Выполняется при необходимости\*

## Работа с Front-end

Перовое, что необходимо сделать, это установить зависимости - `yarn`,
Рекомендуется использовать `node v14`, если используем `nvm` - `nvm use`. Версия подтянется из файла .nvmrc

После установки зависимостей нужно создать файл `.env.local` и вставить в него следующее:

```
HOST=hub.local.crtweb.ru
PORT=3001
HTTPS=false

REACT_APP_TMETRIC_TOKEN=''
REACT_APP_CLIENT_ID=''
REACT_APP_CLIENT_SECRET=''
REACT_APP_BACKEND_URL='https://api-stage.hub.crtweb.ru'
STAGE_ENV=0
```

Перменные:

````REACT_APP_TMETRIC_TOKEN
REACT_APP_CLIENT_ID
REACT_APP_CLIENT_SECRET```

Можно взять в телеграме у `@Art_Nagge` или `@andrew72ru`

Команды:

### `yarn start`

Сборка приложения для разработки.
Приложение запускается на хосте: `http://hub.local.crtweb.ru:3001/`

### `yarn build`

Сборка приложения в продакшен.
Исходники сохраняются в папке `/dist`

Перед запуском приложения необходимо запустить докер и поднять контейнеры для приложения в директории с backend.

## Workflow

Единый Workflow, которому необходимо придерживаться!

1. Свои ветки с задачами мы создаем от `develop`, название вашей ветки - `feature/<name>`. Для поддержания актальности данных, периодически делаем `merge`.
2. После окончания работы со своей веткой - пушим ее, создаем Merge Request своей ветки в `develop`. Мержим...
3. Релиз готовится основываясь на сделанных задачах и собирается в ветку типа `feature/release_<version_package.json>`, например: `feature/release_0.2.5`.
4. Релизная ветка сливается в `master`, а дальше разворачивается в продакшен.
````
